using System;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using solid.example.DIP.good;
using solid.example.DIP.test.Mock;

namespace solid.example.DIP.test
{
    [TestClass]
    public class ExploitationBusinessTest
    {
        [TestMethod]
        public void Test_IsValid()
        {
            IExploitationDao dao = new ExploitationDaoMock();
            IExploitationGouvernementProxy proxy = new ExploitationGouvernementProxyMock();
            ExploitationBusiness serv = new ExploitationBusiness(dao,proxy);

            var result = serv.IsValid(new Exploitation
            {
                Nom = "toto",
                RaisonSociale = "EARL",
                Siret = "1234567891011"
            });

            Assert.IsFalse(result);
        }
    }
}
